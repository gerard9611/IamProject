function btnLogout(){window.location="/iamweb/Logout"}var gerardSpace={login:function(){var e=document.getElementById("username").value,t=document.getElementById("password").value,n="username="+e+"&password="+t,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText,t=JSON.parse(e);1==t?window.location.replace("create.jsp"):alert("Wrong username or password!")}},a.open("POST","/iamweb/Login",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(n)},deleteIdentity:function(e){var t="id="+e,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=n.responseText,t=JSON.parse(e);1==t&&window.location.reload()}},n.open("POST","/iamweb/DeleteIdentity",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(t)},editIdentity:function(e){var t=!1;window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t&&(t.open("GET","/iamweb/ReadIdentity?searchText="+e),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=t.responseText,n=JSON.parse(e);if(0==n.length)alert("Something went wrong. Please Try Again");else for(var a=0;a<n.length;a++){var r=n[a];document.getElementById("id").value=r.id,document.getElementById("fname").value=r.firstName,document.getElementById("lname").value=r.lastName,document.getElementById("email").value=r.email,document.getElementById("date").value=r.birthDate}}},t.send(null))},getIdentities:function(){var e=!1;window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP"));var t=document.getElementById("searchInput").value;e&&(e.open("GET","/iamweb/ReadIdentity?searchText="+t),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=e.responseText,n=JSON.parse(t);if(0==n.length){var a=document.createElement("tbody"),r=document.getElementById("searchResultsTableBody");a.setAttribute("id","searchResultsTableBody"),a.setAttribute("class","fade"),r.parentNode.replaceChild(a,r),a.setAttribute("class","fade in")}else{for(var a=document.createElement("tbody"),i=0;i<n.length;i++){var s=n[i],o=a.insertRow(i),l=o.insertCell(0),d=o.insertCell(1),c=o.insertCell(2),u=o.insertCell(3),m=o.insertCell(4),p=o.insertCell(5);l.innerHTML=s.firstName,d.innerHTML=s.lastName,c.innerHTML=s.email,u.innerHTML=s.birthDate,m.innerHTML="<button class='btn btn-lg btn-warning btn-block btnDelete' onclick='gerardSpace.deleteIdentity("+s.id+")'>Delete</button>",p.innerHTML="<button class='btn btn-lg btn-warning btn-block btnEdit' onclick='gerardSpace.editIdentity("+s.id+")'>Edit</button>"}var r=document.getElementById("searchResultsTableBody");a.setAttribute("id","searchResultsTableBody"),a.setAttribute("class","fade"),r.parentNode.replaceChild(a,r),a.setAttribute("class","fade in")}}},e.send(null))},parsexml:function(e){window.XMLHttpRequest?xmlhttp=new XMLHttpRequest:xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onload=function(){document.getElementById("mainForm").innerHTML=xmlhttp.responseText},xmlhttp.open("GET","Forms?filename="+e,!1),xmlhttp.send()}};